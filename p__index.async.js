(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{RXBc:function(e,t,n){"use strict";n.r(t);var a=n("p0pE"),r=n.n(a),o=n("qIgq"),i=n.n(o),l=n("fFZ8"),c=n.n(l),s=n("LybE"),u=n("MIS5"),m=n("yS7Z"),d=n("REiy"),p=n("6bl3"),h=n("duIU"),f=n("UHX9"),y=n("V8uu"),b=n("2Bbb"),v=n("03aJ"),g=n("+Hmc"),O=n("vOnD"),j=n("5Bvo"),w=Object(j["a"])({prop:"flexCenter",cssProperty:!1,transform:e=>e?{display:"flex",justifyContent:"center",alignItems:"center"}:{}}),E=Object(j["a"])({prop:"variant",cssProperty:!1,themeKey:"typography"});function q(){var e=c()(["\n  ","\n"]);return q=function(){return e},e}var S=O["b"].div(q(),Object(s["a"])(Object(u["a"])(m["a"],d["a"],p["a"],h["a"],f["a"],y["a"],b["a"],v["a"],g["b"],E,w))),P=S,k="\n  map: Path\n  keyBy: Path\n  each: LodashOperations\n  # Creates an array of elements split into groups the length of size.\n  # If array can't be split evenly, the final chunk will be the remaining elements.\n  chunk: Int\n  # Creates a slice of array with n elements dropped from the beginning.\n  drop: Int\n  # Creates a slice of array with n elements dropped from the end.\n  dropRight: Int\n  # Creates a slice of array with n elements taken from the beginning.\n  take: Int\n  # Creates a slice of array with n elements taken from the end.\n  takeRight: Int\n  # Recursively flatten array up to depth times.\n  flattenDepth: Int\n  # The inverse of `toPairs`; this method returns an object composed from key-value\n  # pairs.\n  fromPairs: DummyArgument\n  # Gets the element at index n of array. If n is negative, the nth element from\n  # the end is returned.\n  nth: Int\n  # Reverses array so that the first element becomes the last, the second element\n  # becomes the second to last, and so on.\n  reverse: DummyArgument\n  # Creates a duplicate-free version of an array, in which only the first occurrence\n  # of each element is kept. The order of result values is determined by the order\n  # they occur in the array.\n  uniq: DummyArgument\n  uniqBy: Path\n  countBy: Path\n  filter: JSON\n  reject: JSON\n  filterIf: Predicate\n  rejectIf: Predicate\n  groupBy: Path\n  sortBy: [Path!]\n  minBy: Path\n  maxBy: Path\n  meanBy: Path\n  sumBy: Path\n  # Converts all elements in array into a string separated by separator.\n  join: String\n  get: Path\n  mapValues: Path\n  # Creates an array of values corresponding to paths of object.\n  at: [Path!]\n  # Creates an array of own enumerable string keyed-value pairs for object.\n  toPairs: DummyArgument\n  # Creates an object composed of the inverted keys and values of object.\n  # If object contains duplicate values, subsequent values overwrite property\n  # assignments of previous values.\n  invert: DummyArgument\n  invertBy: Path\n  # Creates an array of the own enumerable property names of object.\n  keys: DummyArgument\n  # Creates an array of the own enumerable string keyed property values of object.\n  values: DummyArgument\n",I="\nscalar Path\nscalar JSON\nenum DummyArgument {\n  none\n}\ninput Predicate {\n  lt: JSON\n  lte: JSON\n  gt: JSON\n  gte: JSON\n  eq: JSON\n  startsWith: String\n  endsWith: String\n  and: [Predicate!]\n  or: [Predicate!]\n  ".concat(k,"\n}\ndirective @_(\n  ").concat(k,"\n) on FIELD | QUERY\ninput LodashOperations {\n  ").concat(k,"\n}\n"),C=n("kKAo"),x=n("dfam"),N=n("JrkS"),R=n("PsDL"),B=n("R/WZ"),J=n("1waj"),T=n.n(J),D=n("ZPUd"),L=n.n(D),A=n("1jQf"),Q=n("b0dj"),W=n("wsNJ"),Z=n("4Tsn"),M=n("R44f"),z=n("/MKj"),U=n("vh1z"),V=n.n(U),X=n("ZJBC"),F=n.n(X),K=(n("5itS"),n("cbkQ")),Y=n("XYXw"),H=n("0VLd"),G=n("neE4"),$=n("EMzn"),_=n("PDj5"),ee=n("TirB"),te=n("mwIZ"),ne=n.n(te),ae=n("q1tI"),re=n.n(ae),oe=n("MlsZ"),ie=n.n(oe),le=n("azY9"),ce=n.n(le);function se(){var e=c()(["\n  .graphiql-container>.graphiql-container>.historyPaneWrap {\n    display: "," !important;\n  }\n"]);return se=function(){return e},e}function ue(e){return ie.a.format(e,{parser:"graphql",plugins:[ce.a]})}var me=Object(B["a"])({tabRoot:{textTransform:"inherit",color:"#ddd !important",minWidth:110,paddingLeft:20,paddingRight:20,"&:hover":{color:"#000 !important"},"&:hover $closeIcon":{display:"inline-flex"}},tabSelected:{color:"#000 !important",display:"inline-flex"},closeIcon:{position:"absolute",right:2,display:"none",fontSize:20},tabTitle:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%",maxWidth:130}}),de=Object(O["a"])(se(),e=>e.historyPaneOpen?"block":"none");t["default"]=(e=>{var t=Object(ae["useRef"])(null),n=Object(ae["useRef"])(null),a=Object(ae["useRef"])(null),o=me(),l=Object(ae["useState"])(()=>JSON.parse(window.localStorage.getItem("sessions"))||[{title:"New Title",active:!0,query:window.localStorage.getItem("graphiql:query")||""}]),c=i()(l,2),s=c[0],u=c[1],m=Object(ae["useState"])(()=>{var e=s.find(e=>e.active);return e&&e.query||window.localStorage.getItem("graphiql:query")||""}),d=i()(m,2),p=d[0],h=d[1],f=Object(z["e"])(e=>e.global.graphqlUri),y=Object(z["e"])(e=>e.global.headers),b=Object(ae["useRef"])(null),v=Object(ae["useState"])(""),g=i()(v,2),O=g[0],j=g[1],w=re.a.useState(()=>{var e=s.findIndex(e=>e.active);return-1===e?0:e}),E=i()(w,2),q=E[0],S=E[1],k=Object(ae["useState"])(null),B=i()(k,2),J=B[0],D=B[1],U=Object(ae["useState"])(!0),X=i()(U,2),te=X[0],oe=X[1],ie=Object(ae["useState"])(!1),le=i()(ie,2),ce=le[0],se=le[1],pe=e=>{var t=ue(e);u(e=>e.map((e,n)=>n===q?r()({},e,{query:t}):e)),h(t)},he=Object(ae["useCallback"])(e=>{"SPAN"===e.target.tagName&&(t.current=!0)},[]);Object(ae["useEffect"])(()=>{var e=document.querySelector(".graphiql-explorer-root");return e&&e.addEventListener("click",he),()=>{e&&e.removeEventListener("click",he)}},[J]),console.log({headers:y});var fe=Object(ae["useMemo"])(()=>f&&new M["a"]({uri:f,credentials:"same-origin",headers:y}),[f,y]),ye=Object(ae["useMemo"])(()=>{return A["a"].from([Object(Z["a"])(e=>{e.graphQLErrors,e.networkError,e.operation,e.forward,e.response}),Object(W["a"])(()=>({headers:y})),...fe?[fe]:[]])},[fe,y]);Object(ae["useEffect"])(()=>{window.localStorage.setItem("sessions",JSON.stringify(s)),a.current=s},[s]),Object(ae["useEffect"])(()=>{var e=a.current.find((e,t)=>t===q);setTimeout(()=>{h(e&&e.query||""),b.current&&e&&e.query&&b.current.handleRunQuery()},0)},[q]);var be=Object(ae["useCallback"])(e=>{var t=e.query,o=e.operationName,i=e.variables,l=void 0===i?{}:i,c=Object(H["a"])(t,o),s=c.query,m=c.transform;if(!ye)return[];if(null!==n.current){var d=a.current[n.current].result;if(n.current=null,d)return new Q["a"](e=>{e.next(d),e.complete()})}var p=Object(A["b"])(ye,{query:Object($["a"])(s),variables:l,context:{}}),h=p.map(e=>{var n=r()({},e,{data:m(e.data)});return!t.includes("IntrospectionQuery")&&u(e=>e.map((e,t)=>q===t?r()({},e,{result:n}):e)),n});return n.current=null,h},[ye,q]);Object(ae["useEffect"])(()=>{fe&&be({query:Object(_["a"])()}).forEach(e=>{var t=Object(K["a"])(Object(ee["a"])(e.data),Object($["a"])(new G["a"](I,"mySchema")));console.log(Object(Y["b"])(t)),D(t)})},[fe]);var ve=Object(ae["useCallback"])(()=>{se(!1)},[]);Object(ae["useEffect"])(()=>{if(f){var e=document.querySelector("#root > div > div.graphiql-container > div.historyPaneWrap > section > div > div.doc-explorer-rhs");return e&&e.addEventListener("click",ve),()=>{e&&e.removeEventListener("click",ve)}}},[f,ve]);var ge=(e,t)=>{S(t);var n=s.map((e,n)=>t===n?r()({},e,{active:!0}):r()({},e,{active:!1}));u(n)},Oe=()=>{var e=[...s.map(e=>r()({},e,{active:!1})),{title:"New Title",query:"",active:!0}];S(e.length-1),u(e)},je=e=>{var t=s.filter((t,n)=>n!==e);if(0===t.length){var n=[{title:"New Title",query:"",active:!0}];return u(n),S(0),void h("")}u(t),S(e=>e-1)},we=e=>{var n;try{var a=Object($["a"])(e);n=ne()(a,"definitions.0.name.value")||ne()(a,"definitions.0.selectionSet.selections.0.name.value")||""}catch(e){}var o=s.map((t,a)=>q===a?r()({},t,{query:e,title:n}):t);h(t.current?ue(e):e),j(void 0),u(o),t.current=!1},Ee=()=>{oe(e=>!e)};return re.a.createElement(re.a.Fragment,null,re.a.createElement(de,{historyPaneOpen:ce}),f&&fe?re.a.createElement("div",{className:"graphiql-container"},re.a.createElement(F.a,{query:p||"",schema:J,onEdit:we,explorerIsOpen:te,onToggleExplorer:Ee,onRunOperation:e=>b.handleRunQuery(e)}),re.a.createElement(C["a"],{square:!0,style:{width:0,flex:1,display:"flex",flexDirection:"column"}},re.a.createElement(P,{display:"flex",alignItems:"center"},re.a.createElement(x["a"],{variant:"scrollable",scrollButtons:"auto",value:q,onChange:ge,indicatorColor:"primary",textColor:"primary"},s.map((e,t)=>{var a=e.title;e.query;return re.a.createElement(N["a"],{key:t,onClick:e=>{n.current=t},classes:{root:o.tabRoot,selected:o.tabSelected},label:re.a.createElement(P,{flexCenter:!0},re.a.createElement("div",{className:o.tabTitle},a||"New Title"),re.a.createElement(L.a,{className:o.closeIcon,onClick:e=>{e.stopPropagation(),je(t)}}))})})),re.a.createElement(R["a"],{onClick:Oe},re.a.createElement(T.a,null))),re.a.createElement(V.a,{query:p,schema:J,fetcher:be,onEditQuery:we,onEditVariables:()=>j(),variables:O,ref:b},re.a.createElement(V.a.Toolbar,null,re.a.createElement(V.a.Button,{onClick:()=>pe(p),label:"Prettify"}),re.a.createElement(V.a.Button,{onClick:Ee,label:"Explorer",title:"Toggle Explorer"}))))):re.a.createElement(P,null,"click bottom right button to set graphql url"))})}}]);